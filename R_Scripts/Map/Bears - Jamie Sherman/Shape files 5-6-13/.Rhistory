utils:::menuInstallPkgs()
library(RMark)
library(pegas)
install.packages('pegas')
install.packages(c('pegas','dplyr'))
library(pegas)
setwd("V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\Shape files 5-6-13")
library(shiny)
library(leaflet)
library(spatstat)
library(raster)
library(rgdal)
library(fifer)
library(maps)
library(maptools)
readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\Shape files 5-6-13\\Hex.shp", layer="Hex")
Hexes=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\Shape files 5-6-13\\Hex.shp", layer="Hex")
Points=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\Shape files 5-6-13\\points.shp", layer="points")
Points=SpatialPoints(Points)
Points
Hexes=SpatialLines(Hexes)
Hexes=SpatialPolygons(Hexes)
Hexes=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\Shape files 5-6-13\\Hex.shp", layer="Hex")
Hexes=SpatialPolygons(Hexes)
Hexes
Hexes=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\Shape files 5-6-13\\Hex.shp", layer="Hex")
Hexes
Points=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\Shape files 5-6-13\\points.shp", layer="points")
Points
Points=SpatialPoints(Points)
Points
Hexes=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\Shape files 5-6-13\\Hex.shp", layer="Hex")
Points=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\Shape files 5-6-13\\points.shp", layer="points")
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://{s}.tile.thunderforest.com/transport-dark/{z}/{x}/{y}.png',
'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>') %>% #This bit sets your tiles If you don't like these tiles, go to http://leaflet-extras.github.io/leaflet-providers/preview/ and replace the tileLayer and attribution fields to whatever you like!
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://{s}.tile.thunderforest.com/transport-dark/{z}/{x}/{y}.png',
'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>')
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community')
surface = raster(Points)
crs(surface) = sp::CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs")
surface=projectRasterForLeaflet(surface)
Points
surface=projectRasterForLeaflet(Points)
Points
leaflet(Points) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addMarkers(~long, ~lat)
leaflet(Points) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addMarkers()
summary(Points)
Points@data$lon
Points@data
Points@data$POINT_X
leaflet(Points) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addMarkers(Points@data$POINT_X, Points@data$POINT_Y)
leaflet(Points) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addMarkers(Points@data$POINT_Y, Points@data$POINT_X)
Points@data$POINT_Y
Points@data$POINT_X
crs(Points)=p::CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs")
crs(Points)=sp::CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs")
Points
Points@data$POINT_Y
Points@data$POINT_X
Points=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\Shape files 5-6-13\\points.shp", layer="points")
spTransform(Points, CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"))
Points@data$POINT_Y
Points@data$POINT_X
Points@data
Points
Points=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\Shape files 5-6-13\\points.shp", layer="points")
spTransform(Points, CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"))
Points=spTransform(Points, CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"))
Points@data$POINT_Y
Points@data$POINT_X
Points
Points@data
Points
Points@coords
leaflet(Points) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addMarkers(Points@coords)
Points@coords
leaflet(Points) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addMarkers(Points@coords$coords.x1,Points@coords$coords.x2)
Points@coords$coords.x1
Points@coords[coords.x1]
Points@coords
Points@coords[,2]
leaflet(Points) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addMarkers(Points@coords[,2],Points@coords[,3])
leaflet(Points) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addMarkers(Points@coords[,1],Points@coords[,2])
leaflet(Points) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addCircles(Points@coords[,1],Points@coords[,2])
?addCircles
leaflet(Points) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addCircles(Points@coords[,1],Points@coords[,2])
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addCircles(Points@coords[,1],Points@coords[,2])
map('state', 'california',fill=F)
CA=map('state', 'california',fill=F)
CA
CA=SpatialLines(map('state', 'california',fill=F))
CA=SpatialLines(map('state', 'california',))
CA=SpatialLines(map('state', 'california'))
SpatialLines(map('state', 'california'), add=T)
map('state', 'california', add=T)
CA=map('state', 'california')
CA
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addCircles(Points@coords[,1],Points@coords[,2]) %>%
addPolygons(CA$x,CA$y)
na.omit(map('state', 'california', add=T))
CA=na.omit(map('state', 'california', add=T))
CA
na.omit(CA)
na.omit(CA$x)
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addCircles(Points@coords[,1],Points@coords[,2]) %>%
addPolygons(na.omit(CA$x),na.omit(CA$y))
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addCircles(Points@coords[,1],Points@coords[,2])
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addCircles(Points@coords[,1],Points@coords[,2], fill="red")
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addCircles(Points@coords[,1],Points@coords[,2], color="red")
states=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\CAShapefiles\\states.shp", layer="states")
states
states@data
states@data$STATE_NAME
states
states@polygons
states@data$STATE_NAME
which(states@data$STATE_NAME, "California")
which(states@data$STATE_NAME=="California")
states@polygons[25]
class(states@polygons[25])
states=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\CAShapefiles\\tl_2013_06_place.shp", layer="tl_2013_06_place")
CA=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\CAShapefiles\\tl_2013_06_place.shp", layer="tl_2013_06_place")
CA
head(CA@coords)
head(CA@Coords)
head(CA@data)
head(CA@data$INTPTLAT)
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolygons(CA@data$INTPTLAT, CA@data$INTPTLON)
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolylines(CA@data$INTPTLAT, CA@data$INTPTLON)
head(CA@data$INTPTLAT)
class(head(CA@data$INTPTLAT))
class(as.data.frame(head(CA@data$INTPTLAT)))
as.data.frame(head(CA@data$INTPTLAT))
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolylines(as.data.frame(CA@data$INTPTLAT), as.data.frame(CA@data$INTPTLON))
CA=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\CAShapefiles\\tl_2013_06_place.shp", layer="tl_2013_06_place")
CA=spTransform(CA, CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"))
Points
CA
Points=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\Shape files 5-6-13\\points.shp", layer="points")
Points=spTransform(Points, CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"))
Points
CA=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\CAShapefiles\\tl_2013_06_place.shp", layer="tl_2013_06_place")
CA=spTransform(CA, CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"))
CA
CA@polygons
CA@bbox
CA@data
sub("^+","",CA@data$INTPTLAT)
sub("^+","","CA@data$INTPTLAT")
sub("+","","CA@data$INTPTLAT")
sub("+","",CA@data$INTPTLAT)
sub("+^","",CA@data$INTPTLAT)
sub("+*","",CA@data$INTPTLAT)
as.data.frame(CA@data$INTPTLAT
)
sub("+*","",as.data.frame(CA@data$INTPTLAT))
sub("^+","",as.data.frame(CA@data$INTPTLAT))
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
as.data.frame(CA@data$INTPTLAT)
as.data.frame(sub("^+","",as.data.frame(CA@data$INTPTLAT)))
CA=SpatialLinesDataFrame(readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\CAShapefiles\\tl_2013_06_place.shp", layer="tl_2013_06_place"))
map('state', 'california')
CA=map('state', 'california')
CA
Points@data$POINT_Y
Points@data$POINT_X
Points@coords[,2]
CA$x
CA@data$INTPTLAT
CA=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\CAShapefiles\\tl_2013_06_place.shp", layer="tl_2013_06_place")
CA = map('state', regions="California", plot=F, fill=T)
IDs = sapply(strsplit(CA$names, ":"), function(x) x[1])
CA.poly = map2SpatialPolygons(CA, IDs = IDs)
CA.poly
CA.poly
leaflet(CA.poly) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community')
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolylines(CA.poly)
CA.poly
CA = map('state', regions="California", plot=F, fill=T)
CA
IDs = sapply(strsplit(CA$names, ":"), function(x) x[1])
IDs
map2SpatialPolygons(CA, IDs = IDs)
CA.poly = map2SpatialPolygons(CA, IDs = IDs)
CA.poly
CA.poly@polygons
class(CA.poly@polygons)
CA.poly@polygons@coords
CA.poly@polygons
slot(CA.poly@polygons, "coords")
CA.poly
CA.poly@plotOrder
CA.poly@polygons
CA.poly@polygons[1]
CA.poly@polygons[,1]
CA.poly@polygons[1,]
CA.poly@polygons[1]
class(CA.poly)
class(CA.poly)
class(CA.poly@polygons)
CA.poly@polygons
summary(CA.poly@polygons)
CA.poly@polygons
leaflet(CA.poly) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community')
CA.poly
leaflet(CA.poly) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolylines(polygons)
leaflet(CA.poly) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolylines(~polygons)
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolygons(CA.poly)
CA=SpatialPolygons(map('state', 'california'))
map('state', 'california')
map('state', 'california', plot=F, fill=F)
SpatialPolygons(map('state', 'california', plot=F, fill=F))
CA=map('state', 'california', plot=F, fill=F)
CA
class(CA)
str(map_data <- map('state', plot = FALSE, fill = TRUE))
states <- sapply(strsplit(map_data$names, ':'), '[[', 1)
states
us <- map2SpatialPolygons(map_data, IDs = states,+   proj4string = CRS("+proj=longlat +datum=WGS84"))
us <- map2SpatialPolygons(map_data, IDs = states,proj4string = CRS("+proj=longlat +datum=WGS84"))
ys
us
plot(us)
leaflet(us) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolygons() %>%
addCircles(Points@coords[,1],Points@coords[,2], color="red")
leaflet() %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolygons(us) %>%
addCircles(Points@coords[,1],Points@coords[,2], color="red")
leaflet(us) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolygons() %>%
addCircles(Points@coords[,1],Points@coords[,2], color="red")
leaflet(us) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolygons(color="gray50") %>%
addCircles(Points@coords[,1],Points@coords[,2], color="red")
Points
leaflet(us) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolygons(color="gray50") %>%
addPolygons(lng=c(-121.3167, -119.9617),lat=c(34.94611, 35.78504), color="white") %>%
addCircles(Points@coords[,1],Points@coords[,2], color="red")
leaflet(us) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolygons(color="gray50") %>%
addPolygons(lng=c(-121.3167,-121.3167,-119.9617,-119.9617),lat=c(35.78504,34.94611,34.94611,35.78504), color="white") %>%
addCircles(Points@coords[,1],Points@coords[,2], color="red")
?addPolygons
leaflet(us) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolygons(color="gray50") %>%
addPolygons(lng=c(-121.3167,-121.3167,-119.9617,-119.9617),lat=c(35.78504,34.94611,34.94611,35.78504), color="white", fill=F, weight=10) %>%
addCircles(Points@coords[,1],Points@coords[,2], color="red")
leaflet(us) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolygons(color="gray50") %>%
addPolygons(lng=c(-121.3167,-121.3167,-119.9617,-119.9617),lat=c(35.78504,34.94611,34.94611,35.78504), opacity=1, color="black", fill=F, weight=5) %>%
addCircles(Points@coords[,1],Points@coords[,2], color="red")
leaflet(us) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolygons(color="gray50", opacity=.8) %>%
addPolygons(lng=c(-121.3167,-121.3167,-119.9617,-119.9617),lat=c(35.78504,34.94611,34.94611,35.78504), opacity=1, color="black", fill=F, weight=5) %>%
addCircles(Points@coords[,1],Points@coords[,2], color="red")
leaflet(us) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolygons(color="gray50", opacity=1) %>%
addPolygons(lng=c(-121.3167,-121.3167,-119.9617,-119.9617),lat=c(35.78504,34.94611,34.94611,35.78504), opacity=1, color="black", fill=F, weight=5)
Hexes=readOGR(dsn="V:\\3730Data\\377STRs\\Wildlife\\R Scripts\\R Stuff\\Map\\Bears - Jamie Sherman\\Shape files 5-6-13\\Hex.shp", layer="Hex")
Hexes=spTransform(Hexes, CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"))
leaflet(us) %>% #Make a blank leaflet map
setView(-118.5, 38, 5) %>% #zoom it in on CA
addTiles('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community') %>%
addPolygons(color="gray50", opacity=1) %>%
addPolygons(lng=c(-121.3167,-121.3167,-119.9617,-119.9617),lat=c(35.78504,34.94611,34.94611,35.78504), opacity=1, color="white", fill=F, weight=5) #%>%
rm(list=ls())
